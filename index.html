<!DOCTYPE html>
<html lang="pt-br">

<head>
    <title>Leitura Bíblica - IBASP</title>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Junte-se a nós neste plano de leitura da Bíblia para o ano" />
    <meta itemprop="name" content="Leitura Bíblica - IBASP" />
    <meta itemprop="description" content="Junte-se a nós neste plano de leitura da Bíblia para o ano" />
    <meta itemprop="image" content="https://leitura.ibasp.org.br/img/1024x512.png" />
    <meta property="og:url" content="https://leitura.ibasp.org.br" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Leitura Bíblica - IBASP" />
    <meta property="og:description" content="Junte-se a nós neste plano de leitura da Bíblia para o ano" />
    <meta property="og:image" content="https://leitura.ibasp.org.br/img/1024x512.png" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Leitura Bíblica - IBASP" />
    <meta name="twitter:description" content="Junte-se a nós neste plano de leitura da Bíblia para o ano" />
    <meta name="twitter:image" content="https://leitura.ibasp.org.br/img/1024x512.png" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-title" content="Leitura Bíblica - IBASP" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="application-name" content="Leitura Bíblica - IBASP" />
    <meta name="theme-color" content="#363d70" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="msapplication-navbutton-color" content="#363d70" />
    <meta name="msapplication-starturl" content="https://leitura.ibasp.org.br/index.html" />

    <link rel="apple-touch-icon" href="https://leitura.ibasp.org.br/img/192.png" />
    <link rel="manifest" href="/manifest.json" />
    <link rel="shortcut icon" href="/img/favicon.png" type="image/x-icon" />
    <link rel="stylesheet" href="/css/styles.css" />
</head>

<body>
    <div id="background"></div>

    <div id="container">
        <h1>Leitura Bíblica</h1>

        <div id="controls">
            <a onclick="changeDate(-1)">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                </svg>
            </a>

            <input type="date" id="dateInput" value="2021-01-01" aria-label="Input da data para leitura" required
                max="2100-12-31" />

            <a onclick="changeDate(1)">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
            </a>
        </div>

        <div id="content">
            <h2>
                Leitura de <span id="text1">1</span>
            </h2>

            <div class="checkbox-div">
                <input type="checkbox" name="checkbox1" id="checkbox1" />

                <label id="label1" for="checkbox1">
                    Pendente
                </label>
            </div>

            <h2>
                Leitura de <span id="text2">2</span>
            </h2>

            <div class="checkbox-div">
                <input type="checkbox" name="checkbox2" id="checkbox2" />

                <label id="label2" for="checkbox2">
                    Pendente
                </label>
            </div>
        </div>

        <div id="no-content">
            <p>
                Sem texto previsto para hoje.<br />
                Aproveite para recapitular algo ou colocar sua leitura em dia.
            </p>
        </div>

        <footer>
            <div class="backup">
                <a id="export" onclick="exportHistory(event)">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12" />
                    </svg>
                    Exportar
                </a>

                <label id="import">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                    </svg>
                    Importar
                    <input type="file" name="importInput" id="importInput" accept="text/plain"
                        onchange="importHistory(event)" />
                </label>
            </div>

            <div>
                Desenvolvido por
                <a href="https://www.ibasp.org.br" target="_blank" rel="noopener noreferrer">
                    IBASP
                </a>
            </div>

            <a onclick="showHelp()">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
            </a>
        </footer>

        <div id="updateReady">
            <div>
                <p>Atualização disponível</p>
            </div>
            <div>
                <a href="#" id="reloadLink">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                    </svg>
                    REINICIAR
                </a>
            </div>
        </div>

        <div id="help">
            <div class="content">
                <h2>
                    Ajuda
                </h2>

                <h3>Como instalar no seu celular</h3>

                <h4>Android</h4>

                <ul>
                    <li>
                        Utilize preferencialmente o navegador Google Chrome ou Mozilla Firefox.
                    </li>
                    <li>
                        Ao abrir o site, aparecerá a leitura do dia.
                    </li>
                    <li>
                        Depois de alguns segundos, no rodapé, aparecerá a mensagem “Adicionar o app Leitura Bíblica à
                        tela inicial”.
                    </li>
                    <li>
                        Clique nela e, em seguida, em “Instalar”.
                    </li>
                    <li>
                        O atalho será criado automaticamente na tela inicial do celular após alguns segundos.
                    </li>
                    <li>
                        Caso a mensagem não apareça, clique no ícone na lateral direita superior (três bolinhas).
                        Lá, vai aparecer a mensagem “adicionar à tela inicial” no Google Chrome, ou “Instalar” no
                        Mozilla Firefox.
                    </li>
                </ul>

                <h4>iOS</h4>

                <ul>
                    <li>
                        Utilize preferencialmente o navegador Safari.
                    </li>
                    <li>
                        Aparecerá a leitura do dia.
                    </li>
                    <li>
                        Clique no botão de compartilhar e, na sequência, em “adicionar à tela de início”.
                    </li>
                </ul>

                <h3>
                    Preciso trocar de celular – como faço para não perder meus registros?
                </h3>

                <p>
                    Os dados do seu controle de leitura ficam registrados no próprio celular, por isso não temos como
                    recuperar dados perdidos.
                </p>

                <p>
                    Se você trocar de celular, dá para fazer um backup para ser importado no aparelho novo, seguindo os
                    passos abaixo:
                </p>

                <ol>
                    <li>
                        No celular antigo, clique no botão “Exportar” e salve o arquivo em seu aparelho. (É bom anotar o
                        nome
                        do arquivo e o local exato em que ficou gravado.)
                    </li>
                    <li>
                        Transfira o arquivo salvo para o novo aparelho (por cabo ou nuvem).
                    </li>
                    <li>
                        No celular novo, abra este site no seu smartphone ou tablet (preferencialmente Google Chrome
                        ou Mozilla Firefox).
                    </li>
                    <li>
                        Aparecerá a leitura do dia.
                    </li>
                    <li>
                        Clique no botão “Importar” e siga os passos indicados. (Obs.: seu arquivo de dados já precisa
                        estar
                        salvo no celular novo.)
                    </li>
                </ol>

                <a id="helpCloseButton" onclick="closeHelp()">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </a>
            </div>
        </div>
    </div>

    <script src="/js/main.js"></script>
    <script type="module">
        import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/5.0.0/workbox-window.prod.mjs";

        if ("serviceWorker" in navigator) {
            const wb = new Workbox("./sw.js");

            function showSkipWaitingPrompt() {
                document.getElementById("updateReady").style.bottom = "0";

                document.getElementById("reloadLink")
                    .addEventListener("click", function (e) {
                        e.preventDefault();

                        wb.addEventListener("controlling", function () {
                            window.location.reload();
                        });

                        wb.messageSW({ type: "SKIP_WAITING" });
                    });
            }

            wb.addEventListener("waiting", showSkipWaitingPrompt);
            wb.addEventListener("externalwaiting", showSkipWaitingPrompt);

            wb.register();
        }
    </script>
</body>

</html>